<!-- <div class="tasks-wrapper">
  <div class="container p-3">
    <h4 class="mt-3">New Task</h4>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <label for="name" class="text-secondary">Name
            <sup class="text-danger">*</sup>
          </label>
          <div class="input-group">
            <input type="text" class="form-control" id="name" [(ngModel)]="data.name">
          </div>
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="name" class="text-secondary">Name
            <sup class="text-danger">*</sup>
          </label>
          <input type="text" class="form-control" id="name" [(ngModel)]="data.name">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col text-right">
        <button type="button" class="btn btn-success btn-min-width" (click)="saveRepo()">Save</button>
      </div>
    </div>
    <h4 class="mt-3">All Repos</h4>
    <div class="d-flex flex-wrap">
      <p class="text-muted" *ngIf="!repos || repos.length==0">No Repos added</p>
      <div class="repo-card card mt-3 mr-3" *ngFor="let item of repos;let i=index">
        <div class="card-body">
          <span class="font-weight-bold">{{item.name}}</span>
          <p>{{item.url}}</p>
          <div class="d-flex align-items-center">
            <button type="button" class="btn btn-primary btn-sm mr-2 w-100"
              (click)="getBranchList(item._id);newImage(item)">New Image</button>
            <button type="button" class="btn btn-danger btn-sm ml-2 w-100" (click)="deleteRepo(item)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #deleteRepoEle let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">
        <span class="fa fa-trash text-danger mr-2"></span>
        <span>Delete Repo</span>
      </div>
    </div>
    <div class="modal-body">
      <p>Are you sure you want to delete this Repo?</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-dark mr-3" (click)="c(false)">Cancel</button>
      <button type="button" class="btn btn-danger" (click)="triggerDelete()">Delete</button>
    </div>
  </div>
</ng-template>

<ng-template #newImageEle let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">
        <span class="fa fa-plus-circle text-dark mr-2"></span>
        <span>New Image</span>
      </div>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label for="repo">Select branch and tag
              <sup class="text-danger">*</sup>
            </label>
            <div class="input-group">
              <select class="custom-select" name="branch" id="branch" [(ngModel)]="imageBuildData.branch">
                <option [value]="null">&lt;&lt;branch&gt;&gt;</option>
                <option [value]="branch" *ngFor="let branch of branchList">{{branch}}</option>
              </select>
              <input type="text" class="form-control col-3" name="tag" id="tag" [(ngModel)]="imageBuildData.tag"
                placeholder="Image Tag">
            </div>
          </div>
          <div class="form-group">
            <label for="repo">Script</label>
            <textarea class="form-control" name="script" id="script" cols="30" rows="5"
              [(ngModel)]="imageBuildData.script"></textarea>
            <small class="form-text text-muted">Addtional script to be executed before image build</small>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-dark mr-3" (click)="c(false)">Cancel</button>
      <button type="button" class="btn btn-success" (click)="triggerNewImage()">Build Image</button>
    </div>
  </div>
</ng-template>
<div class="repos-wrapper">
  <div class="container p-3">
    <h4 class="mt-3">New Repo</h4>
    <div class="row">
      <div class="col">
        <div class="form-group">
          <label for="url" class="text-secondary">URL
            <sup class="text-danger">*</sup>
          </label>
          <div class="input-group">
            <input type="text" class="form-control" id="url" [(ngModel)]="data.url"
              (blur)="onUrlChange($event.target.value)">
          </div>
        </div>
      </div>
      <div class="col-4">
        <div class="form-group">
          <label for="name" class="text-secondary">Name
            <sup class="text-danger">*</sup>
          </label>
          <input type="text" class="form-control" id="name" [(ngModel)]="data.name">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col text-right">
        <button type="button" class="btn btn-success btn-min-width" (click)="saveRepo()">Save</button>
      </div>
    </div>
    <h4 class="mt-3">All Repos</h4>
    <div class="d-flex flex-wrap">
      <p class="text-muted" *ngIf="!repos || repos.length==0">No Repos added</p>
      <div class="repo-card card mt-3 mr-3" *ngFor="let item of repos;let i=index">
        <div class="card-body">
          <span class="font-weight-bold">{{item.name}}</span>
          <p>{{item.url}}</p>
          <div class="d-flex align-items-center">
            <button type="button" class="btn btn-primary btn-sm mr-2 w-100"
              (click)="getBranchList(item._id);newImage(item)">New Image</button>
            <button type="button" class="btn btn-danger btn-sm ml-2 w-100" (click)="deleteRepo(item)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #deleteRepoEle let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">
        <span class="fa fa-trash text-danger mr-2"></span>
        <span>Delete Repo</span>
      </div>
    </div>
    <div class="modal-body">
      <p>Are you sure you want to delete this Repo?</p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-dark mr-3" (click)="c(false)">Cancel</button>
      <button type="button" class="btn btn-danger" (click)="triggerDelete()">Delete</button>
    </div>
  </div>
</ng-template>

<ng-template #newImageEle let-c="close" let-d="dismiss">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">
        <span class="fa fa-plus-circle text-dark mr-2"></span>
        <span>New Image</span>
      </div>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col">
          <div class="form-group">
            <label for="repo">Select branch and tag
              <sup class="text-danger">*</sup>
            </label>
            <div class="input-group">
              <select class="custom-select" name="branch" id="branch" [(ngModel)]="imageBuildData.branch">
                <option [value]="null">&lt;&lt;branch&gt;&gt;</option>
                <option [value]="branch" *ngFor="let branch of branchList">{{branch}}</option>
              </select>
              <input type="text" class="form-control col-3" name="tag" id="tag" [(ngModel)]="imageBuildData.tag"
                placeholder="Image Tag">
            </div>
          </div>
          <div class="form-group">
            <label for="repo">Script</label>
            <textarea class="form-control" name="script" id="script" cols="30" rows="5"
              [(ngModel)]="imageBuildData.script"></textarea>
            <small class="form-text text-muted">Addtional script to be executed before image build</small>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-dark mr-3" (click)="c(false)">Cancel</button>
      <button type="button" class="btn btn-success" (click)="triggerNewImage()">Build Image</button>
    </div>
  </div>
</ng-template> -->